======================================================================
STEP 1: DETERMINISTIC DAY-AHEAD UC
======================================================================
Building DAMData from RTS-GMLC...
  Using SPP ensemble mean for wind Pmax: /Users/alexwasilkoff/PycharmProjects/RTS/uncertainty_sets_refactored/data/forecasts_filtered_rts4_constellation_v2.parquet
  Done. Data shapes:
    n_gens   = 154
    n_buses  = 73
    n_lines  = 120
    n_periods= 12

Building Gurobi DAM UC model...
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2739141
Academic license 2739141 - for non-commercial use only - registered to wa___@bu.edu
Warning for adding constraints: zero or small (< 1e-13) coefficients, ignored
Set parameter OutputFlag to value 1
  Model built. Starting optimization...
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (mac64[x86] - Darwin 21.6.0 21H1320)

CPU model: Intel(R) Core(TM) i5-6267U CPU @ 2.90GHz
Thread count: 2 physical cores, 4 logical processors, using up to 4 threads

Academic license 2739141 - for non-commercial use only - registered to wa___@bu.edu
Optimize a model with 19232 rows, 12948 columns and 482001 nonzeros (Min)
Model fingerprint: 0xb3c40d2b
Model has 4356 linear objective coefficients
Variable types: 7404 continuous, 5544 integer (5544 binary)
Coefficient statistics:
  Matrix range     [1e-06, 8e+02]
  Objective range  [1e+01, 2e+04]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 6e+03]
Found heuristic solution: objective 5.676624e+08
Presolve removed 11386 rows and 8927 columns
Presolve time: 1.07s
Presolved: 7846 rows, 4021 columns, 49558 nonzeros
Variable types: 3947 continuous, 74 integer (74 binary)

Root relaxation: objective 5.337649e+05, 4117 iterations, 0.29 seconds (0.23 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 533764.893    0    2 5.6766e+08 533764.893   100%     -    1s
H    0     0                    534532.10829 533764.893  0.14%     -    1s
     0     0          -    0      534532.108 534497.132  0.01%     -    1s

Cutting planes:
  Cover: 1
  MIR: 6
  Flow cover: 5

Explored 1 nodes (4158 simplex iterations) in 1.67 seconds (1.08 work units)
Thread count was 4 (of 4 available processors)

Solution count 2: 534532 5.67662e+08 

Optimal solution found (tolerance 1.00e-04)
Best objective 5.345321082852e+05, best bound 5.344971318506e+05, gap 0.0065%

=== DAM UC Summary ===
Objective value: 534,532.11
Number of generators: 154
Number of buses:      73
Number of lines:      120
Number of periods:    12
Total generation (MWh across horizon): 56,766.24
Total load (MWh across horizon):       56,766.24
Units committed at least once: 98

Extracting DAM commitments...
  Total DAM unit-hours: 1176
  Total DAM startups:   61

======================================================================
STEP 2: UNCERTAINTY SETS
======================================================================

Constructing static uncertainty set...
Found 4 wind units for uncertainty modeling:
  - 122_WIND_1
  - 303_WIND_1
  - 309_WIND_1
  - 317_WIND_1

Uncertainty set configuration:
  Ellipsoid radius (rho): 25.00
  Wind std dev fraction: 15.0%
  Covariance matrix shape: (4, 4)

======================================================================
STEP 3: NOTIFICATION TIMES & GATING SETS
======================================================================

Notification times (scale=1.00):
  101_CT_1         L_SU =   2.0 h
  101_CT_2         L_SU =   2.0 h
  101_STEAM_3      L_SU =  16.0 h
  101_STEAM_4      L_SU =  16.0 h
  102_CT_1         L_SU =   2.0 h
  102_CT_2         L_SU =   2.0 h
  102_STEAM_3      L_SU =  16.0 h
  102_STEAM_4      L_SU =  16.0 h
  107_CC_1         L_SU =   8.0 h
  113_CT_1         L_SU =   2.0 h
  113_CT_2         L_SU =   2.0 h
  113_CT_3         L_SU =   2.0 h
  113_CT_4         L_SU =   2.0 h
  115_STEAM_1      L_SU =  16.0 h
  115_STEAM_2      L_SU =  16.0 h
  115_STEAM_3      L_SU =  48.0 h
  116_STEAM_1      L_SU =  48.0 h
  118_CC_1         L_SU =   8.0 h
  121_NUCLEAR_1    L_SU =  48.0 h
  123_CT_1         L_SU =   2.0 h
  123_CT_4         L_SU =   2.0 h
  123_CT_5         L_SU =   2.0 h
  123_STEAM_2      L_SU =  48.0 h
  123_STEAM_3      L_SU =  48.0 h
  201_CT_1         L_SU =   2.0 h
  201_CT_2         L_SU =   2.0 h
  201_STEAM_3      L_SU =  16.0 h
  202_CT_1         L_SU =   2.0 h
  202_CT_2         L_SU =   2.0 h
  202_STEAM_3      L_SU =  16.0 h
  202_STEAM_4      L_SU =  16.0 h
  207_CT_1         L_SU =   2.0 h
  207_CT_2         L_SU =   2.0 h
  213_CC_3         L_SU =   8.0 h
  213_CT_1         L_SU =   2.0 h
  213_CT_2         L_SU =   2.0 h
  215_CT_4         L_SU =   2.0 h
  215_CT_5         L_SU =   2.0 h
  216_STEAM_1      L_SU =  48.0 h
  218_CC_1         L_SU =   8.0 h
  221_CC_1         L_SU =   8.0 h
  223_CT_4         L_SU =   2.0 h
  223_CT_5         L_SU =   2.0 h
  223_CT_6         L_SU =   2.0 h
  223_STEAM_1      L_SU =  48.0 h
  223_STEAM_2      L_SU =  48.0 h
  223_STEAM_3      L_SU =  48.0 h
  301_CT_1         L_SU =   2.0 h
  301_CT_2         L_SU =   2.0 h
  301_CT_3         L_SU =   2.0 h
  301_CT_4         L_SU =   2.0 h
  302_CT_1         L_SU =   2.0 h
  302_CT_2         L_SU =   2.0 h
  302_CT_3         L_SU =   2.0 h
  302_CT_4         L_SU =   2.0 h
  307_CT_1         L_SU =   2.0 h
  307_CT_2         L_SU =   2.0 h
  313_CC_1         L_SU =   8.0 h
  315_CT_6         L_SU =   2.0 h
  315_CT_7         L_SU =   2.0 h
  315_CT_8         L_SU =   2.0 h
  315_STEAM_1      L_SU =  16.0 h
  315_STEAM_2      L_SU =  16.0 h
  315_STEAM_3      L_SU =  16.0 h
  315_STEAM_4      L_SU =  16.0 h
  315_STEAM_5      L_SU =  16.0 h
  316_STEAM_1      L_SU =  48.0 h
  318_CC_1         L_SU =   8.0 h
  321_CC_1         L_SU =   8.0 h
  322_CT_5         L_SU =   2.0 h
  322_CT_6         L_SU =   2.0 h
  323_CC_1         L_SU =   8.0 h
  323_CC_2         L_SU =   8.0 h

Gating summary (t_next=25):
  Total gated (i,t) pairs:   876
  Thermal gated (i,t) pairs: 876 / 888 (98.6%)

======================================================================
STEP 4: LD-RUC CCG SOLVE
======================================================================

======================================================================
LD-RUC CCG LOOP
======================================================================

--- CCG Iteration 1/5 ---
  Phase 1: Building model (0 scenarios)...
Warning for adding constraints: zero or small (< 1e-13) coefficients, ignored
Set parameter OutputFlag to value 1
Set parameter MIPGap to value 0.005
  Phase 1: Solving...
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (mac64[x86] - Darwin 21.6.0 21H1320)

CPU model: Intel(R) Core(TM) i5-6267U CPU @ 2.90GHz
Thread count: 2 physical cores, 4 logical processors, using up to 4 threads

Non-default parameters:
MIPGap  0.005

Academic license 2739141 - for non-commercial use only - registered to wa___@bu.edu
Optimize a model with 22928 rows, 14796 columns and 487545 nonzeros (Min)
Model fingerprint: 0x5b43b886
Model has 1752 linear objective coefficients
Variable types: 9252 continuous, 5544 integer (5544 binary)
Coefficient statistics:
  Matrix range     [1e-06, 8e+02]
  Objective range  [5e+01, 2e+04]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 6e+03]
Presolve removed 16699 rows and 11602 columns
Presolve time: 1.88s
Presolved: 6229 rows, 3194 columns, 42558 nonzeros
Variable types: 3138 continuous, 56 integer (56 binary)

Root relaxation: objective 2.492584e-10, 1341 iterations, 0.10 seconds (0.05 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

*    0     0               0       0.0000000    0.00000  0.00%     -    2s

Explored 1 nodes (1341 simplex iterations) in 2.21 seconds (0.81 work units)
Thread count was 4 (of 4 available processors)

Solution count 1: 0 
No other solutions better than 2.49258e-10

Optimal solution found (tolerance 5.00e-03)
Best objective 0.000000000000e+00, best bound 0.000000000000e+00, gap 0.0000%
  Phase 1 objective: 0.00 (solve time: 5.3s)
  Incremental unit-hours: 0
  Phase 2: Building SOCP...
Set parameter OutputFlag to value 1
Set parameter NumericFocus to value 1
Set parameter BarHomogeneous to value -1
Set parameter ScaleFlag to value 1
  Phase 2: Solving...
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (mac64[x86] - Darwin 21.6.0 21H1320)

CPU model: Intel(R) Core(TM) i5-6267U CPU @ 2.90GHz
Thread count: 2 physical cores, 4 logical processors, using up to 4 threads

Non-default parameters:
ScaleFlag  1
NumericFocus  1

Academic license 2739141 - for non-commercial use only - registered to wa___@bu.edu
Optimize a model with 22424 rows, 23028 columns and 915868 nonzeros (Min)
Model fingerprint: 0xd7247382
Model has 12 linear objective coefficients
Model has 1704 quadratic constraints
Coefficient statistics:
  Matrix range     [1e-06, 3e+03]
  QMatrix range    [1e+00, 1e+00]
  Objective range  [1e+00, 1e+00]
  Bounds range     [0e+00, 0e+00]
  RHS range        [1e-01, 6e+03]
Presolve removed 13136 rows and 12860 columns
Presolve time: 0.44s
Presolved: 9288 rows, 10355 columns, 372923 nonzeros
Presolved model has 1704 second-order cone constraints
Ordering time: 0.24s

Barrier statistics:
 Dense cols : 700
 Free vars  : 1200
 AA' NZ     : 5.965e+05
 Factor NZ  : 1.525e+06 (roughly 20 MB of memory)
 Factor Ops : 3.700e+08 (roughly 1 second per iteration)
 Threads    : 2

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   4.66139206e+03 -2.38530000e+03  1.14e+04 1.00e-01  1.29e+01     6s
   1   6.49242862e+02 -5.47802859e+03  1.34e+03 6.42e-07  1.86e+00     9s
   2   2.50722835e+02 -2.85553461e+03  5.11e+02 4.09e-07  6.85e-01    11s
   3   1.68662835e+02 -1.11078360e+03  3.44e+02 4.20e-07  3.39e-01    16s
   4   1.37474577e+02 -2.12754872e+02  2.80e+02 8.16e-07  2.48e-01    20s
   5   1.27632232e+02  2.30075768e+02  2.59e+02 1.16e-06  2.28e-01    22s
   6   1.24387582e+02  9.05995277e+02  2.52e+02 1.73e-06  2.21e-01    23s
   7   1.21742992e+02  2.20586021e+03  2.46e+02 2.22e-06  2.16e-01    25s
   8   1.20524054e+02  4.90178507e+03  2.43e+02 2.21e-06  2.14e-01    26s
   9   1.20585038e+02  1.19061061e+04  2.41e+02 2.05e-06  2.13e-01    28s
  10   1.22784224e+02  3.69809300e+04  2.40e+02 1.87e-06  2.19e-01    30s
  11   1.95373496e+02  7.02138905e+04  2.40e+02 1.88e-06  2.23e-01    31s
  12   4.68945590e+02  4.10448386e+04  2.39e+02 1.94e-06  2.40e-01    33s
  13   6.34618988e+02  8.36343410e+04  2.39e+02 1.96e-06  2.46e-01    36s
  14   7.95648422e+02  1.15254535e+05  2.39e+02 1.97e-06  2.54e-01    42s
  15   1.08310311e+03  9.63954636e+04  2.38e+02 1.93e-06  2.65e-01    48s
  16   1.67399374e+03  1.10811744e+05  2.38e+02 1.98e-06  2.84e-01    51s
  17   2.66857174e+03  1.27691045e+05  2.36e+02 2.08e-06  3.03e-01    53s
  18   3.57937346e+03  1.41249194e+05  2.35e+02 2.09e-06  3.07e-01    55s
  19   4.25095870e+03  1.48612094e+05  2.34e+02 1.65e-06  3.15e-01    57s
  20   5.16234985e+03  1.56578606e+05  2.33e+02 1.58e-06  3.18e-01    58s
  21   6.63426946e+03  1.72738066e+05  2.31e+02 1.85e-06  3.13e-01    60s
  22   6.93038960e+03  1.77460304e+05  2.31e+02 1.82e-06  3.14e-01    61s
  23   7.04704363e+03  1.80203968e+05  2.30e+02 1.66e-06  3.14e-01    63s
  24   7.53546140e+03  1.90032454e+05  2.30e+02 1.62e-06  3.15e-01    64s
  25   7.71579587e+03  2.03399140e+05  2.30e+02 1.61e-06  3.18e-01    66s
  26   8.42985265e+03  2.26268066e+05  2.29e+02 1.62e-06  3.25e-01    68s
  27   9.53438255e+03  2.45714424e+05  2.28e+02 1.64e-06  3.26e-01    69s
  28   1.05160638e+04  2.56107046e+05  2.27e+02 1.63e-06  3.34e-01    71s
  29   1.15227338e+04  2.71696274e+05  2.26e+02 1.72e-06  3.41e-01    73s
  30   1.26336237e+04  2.86220793e+05  2.25e+02 2.04e-06  3.42e-01    74s
  31   1.29579495e+04  3.30547116e+05  2.25e+02 2.05e-06  3.60e-01    75s
  32   1.36147430e+04  3.76158219e+05  2.24e+02 1.99e-06  3.54e-01    77s
  33   1.41104138e+04  3.65017714e+05  2.24e+02 1.99e-06  3.64e-01    78s
  34   1.42924392e+04  4.16406161e+05  2.24e+02 1.90e-06  3.88e-01    80s
  35   1.49922646e+04  4.84737591e+05  2.23e+02 2.01e-06  4.05e-01    81s
  36   1.57469769e+04  5.38249798e+05  2.23e+02 1.79e-06  4.27e-01    84s
  37   1.59430055e+04  7.66401478e+05  2.23e+02 1.83e-06  4.48e-01    85s
  38   1.62628221e+04  1.32000205e+06  2.22e+02 1.85e-06  4.95e-01    87s
  39   1.64325800e+04  2.95220926e+06  2.22e+02 1.86e-06  5.62e-01    94s
  40   1.65298685e+04  3.03152980e+06  2.22e+02 1.85e-06  5.90e-01    96s
  41   1.66691421e+04  5.17507532e+06  2.22e+02 1.86e-06  7.85e-01    99s

Barrier performed 41 iterations in 98.64 seconds (24.84 work units)
Numerical trouble encountered

Model may be infeasible or unbounded.  Consider using the
homogeneous algorithm (through parameter 'BarHomogeneous')

  WARNING: Phase 2 status 12
  Phase 2 infeasible â€” commitment may be insufficient.
Traceback (most recent call last):
  File "/Users/alexwasilkoff/PycharmProjects/RTS/ruc/run_ruc.py", line 562, in <module>
    main()
  File "/Users/alexwasilkoff/PycharmProjects/RTS/ruc/run_ruc.py", line 530, in main
    outputs = run_ruc(
              ^^^^^^^^
  File "/Users/alexwasilkoff/PycharmProjects/RTS/ruc/run_ruc.py", line 295, in run_ruc
    ccg_results = solve_ruc_ccg(
                  ^^^^^^^^^^^^^^
  File "/Users/alexwasilkoff/PycharmProjects/RTS/ruc/ruc_model.py", line 1145, in solve_ruc_ccg
    r_star = extract_worst_case_scenario(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexwasilkoff/PycharmProjects/RTS/ruc/ruc_model.py", line 985, in extract_worst_case_scenario
    s_vals = np.array([phase2_vars["s"][t].X for t in range(T)])
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexwasilkoff/PycharmProjects/RTS/ruc/ruc_model.py", line 985, in <listcomp>
    s_vals = np.array([phase2_vars["s"][t].X for t in range(T)])
                       ^^^^^^^^^^^^^^^^^^^^^
  File "src/gurobipy/var.pxi", line 128, in gurobipy._core.Var.__getattr__
  File "src/gurobipy/var.pxi", line 156, in gurobipy._core.Var.getAttr
  File "src/gurobipy/_attrutil.pyx", line 119, in gurobipy._attrutil._getattr
AttributeError: Unable to retrieve attribute 'X'. Did you mean: 'Xn'?
Warning: environment still referenced so free is deferred (Continue to use WLS)
